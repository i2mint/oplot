

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>oplot.plot_stats &mdash; oplot 0.1.16 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />

  
      <script src="../../_static/jquery.js"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
      <script src="../../_static/doctools.js"></script>
      <script src="../../_static/sphinx_highlight.js"></script>
      <script src="../../_static/toggleprompt.js"></script>
      <script src="../../_static/clipboard.min.js"></script>
      <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="oplot.ui_scores_mapping" href="ui_scores_mapping.html" />
    <link rel="prev" title="oplot.plot_data_set" href="plot_data_set.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            oplot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../oplot.html">oplot</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">oplot.matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_plot.html">oplot.multi_plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiplots.html">oplot.multiplots</a></li>
<li class="toctree-l1"><a class="reference internal" href="my.html">oplot.my</a></li>
<li class="toctree-l1"><a class="reference internal" href="outlier_scores.html">oplot.outlier_scores</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_audio.html">oplot.plot_audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_data_set.html">oplot.plot_data_set</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">oplot.plot_stats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.apply_function_on_consecutive"><code class="docutils literal notranslate"><span class="pre">apply_function_on_consecutive()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.area_under_points"><code class="docutils literal notranslate"><span class="pre">area_under_points()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.cumulative_tn_fp_fn_tp"><code class="docutils literal notranslate"><span class="pre">cumulative_tn_fp_fn_tp()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.get_tn_fp_fn_tp"><code class="docutils literal notranslate"><span class="pre">get_tn_fp_fn_tp()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.list_mult"><code class="docutils literal notranslate"><span class="pre">list_mult()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.make_heatmap"><code class="docutils literal notranslate"><span class="pre">make_heatmap()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.make_normal_outlier_timeline"><code class="docutils literal notranslate"><span class="pre">make_normal_outlier_timeline()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.make_tables_tn_fp_fn_tp"><code class="docutils literal notranslate"><span class="pre">make_tables_tn_fp_fn_tp()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.make_tn_fp_fn_tp_tag_lists"><code class="docutils literal notranslate"><span class="pre">make_tn_fp_fn_tp_tag_lists()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.pair_metrics_to_reference"><code class="docutils literal notranslate"><span class="pre">pair_metrics_to_reference()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.parallel_sort"><code class="docutils literal notranslate"><span class="pre">parallel_sort()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.pick_equally_spaced_points"><code class="docutils literal notranslate"><span class="pre">pick_equally_spaced_points()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.plot_confusion_matrix"><code class="docutils literal notranslate"><span class="pre">plot_confusion_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.plot_freqs_stats"><code class="docutils literal notranslate"><span class="pre">plot_freqs_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.plot_outlier_metric_curve"><code class="docutils literal notranslate"><span class="pre">plot_outlier_metric_curve()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.rebalance_scores"><code class="docutils literal notranslate"><span class="pre">rebalance_scores()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.rebalancing_normal_outlier_ratio"><code class="docutils literal notranslate"><span class="pre">rebalancing_normal_outlier_ratio()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.render_mpl_table"><code class="docutils literal notranslate"><span class="pre">render_mpl_table()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.smooth_scores"><code class="docutils literal notranslate"><span class="pre">smooth_scores()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.split_on_consecutive"><code class="docutils literal notranslate"><span class="pre">split_on_consecutive()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.vlines"><code class="docutils literal notranslate"><span class="pre">vlines()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.wiggle_scores"><code class="docutils literal notranslate"><span class="pre">wiggle_scores()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#oplot.plot_stats.wiggle_values_keep_order"><code class="docutils literal notranslate"><span class="pre">wiggle_values_keep_order()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ui_scores_mapping.html">oplot.ui_scores_mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">oplot.util</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">oplot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">oplot.plot_stats</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/oplot/plot_stats.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-oplot.plot_stats">
<span id="oplot-plot-stats"></span><h1>oplot.plot_stats<a class="headerlink" href="#module-oplot.plot_stats" title="Permalink to this heading"></a></h1>
<p>Functions to represent the accuracy of outlier or classification algorithms</p>
<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.apply_function_on_consecutive">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">apply_function_on_consecutive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr_for_consec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=&lt;function</span> <span class="pre">mean&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#apply_function_on_consecutive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.apply_function_on_consecutive" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Apply func to each block of consecutive value in scores if the corresponding values in arr_for_consec are constant</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scores</strong> – a list of floats</p></li>
<li><p><strong>arr_for_consec</strong> – an array of values defining the blocks</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list the output of func on each block</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.area_under_points">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">area_under_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#area_under_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.area_under_points" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of pair corresponding to the x and y coordinates of the points, find the
area under the curve of the (simplest) piecewise linear function passing by all the points</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">area_under_points</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">area_under_points</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">area_under_points</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="go">3.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.cumulative_tn_fp_fn_tp">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">cumulative_tn_fp_fn_tp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">truth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#cumulative_tn_fp_fn_tp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.cumulative_tn_fp_fn_tp" title="Permalink to this definition"></a></dt>
<dd><p>Compute efficiently the cumulative tn, fp, fn and tp</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.get_tn_fp_fn_tp">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">get_tn_fp_fn_tp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">truth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#get_tn_fp_fn_tp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.get_tn_fp_fn_tp" title="Permalink to this definition"></a></dt>
<dd><p>compute the counts of true negative, false positive, false negative and true positive as predicted
by the outlier score for the given threshold
:param truth: a list of 0 and 1’s, 0 meaning normal and 1 meaning outlier
:param scores: a list of outlier scores, of same length as truth
:param threshold: a float, any score under is predicted as normal and above as outlier
:return: true negative, false positive, false negative, true positive</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.list_mult">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">list_mult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mult</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_remainder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#list_mult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.list_mult" title="Permalink to this definition"></a></dt>
<dd><p>Extend the multiplication of lists by an integer naturally to float.
EX: [1,2] * 1.5 = [1,2,1]
If random_remainder is set to True, the decimal part of the new list will be chose at random from l.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.make_heatmap">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">make_heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding=4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_size=(20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">20)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_symmetric=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_diag=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name=''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#make_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.make_heatmap" title="Permalink to this definition"></a></dt>
<dd><p>Makes a heatmap plot of the matrix_results where the entries are rounded.
If matrix_results is upper or lower diagonal and make_symmetric is set to true,
plot will be made symmetric by copying the strict upper or lower half.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.make_normal_outlier_timeline">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">make_normal_outlier_timeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saving_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal/outlier</span> <span class="pre">scores'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_font_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_for_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_n_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xticks_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xticks_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#make_normal_outlier_timeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.make_normal_outlier_timeline" title="Permalink to this definition"></a></dt>
<dd><p>Plots all scores grouped by their y values in order specified by y_order or np.unique(y) is left to None.
:param scores: an array of outlier scores
:param y: an array of tags, each tag will get its own color on the plot and its name on the legend</p>
<blockquote>
<div><p>The vertical line will also be grouped according to the tags, in the order given in y_order</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig_size</strong> – the size of the plot</p></li>
<li><p><strong>line_width</strong> – the thickness of the line on the plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.make_tables_tn_fp_fn_tp">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">make_tables_tn_fp_fn_tp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">truth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_thresholds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#make_tables_tn_fp_fn_tp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.make_tables_tn_fp_fn_tp" title="Permalink to this definition"></a></dt>
<dd><p>Make a table of counts of tn, fp, fn, tp for n_thresholds equally spaced in threshold_range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>truth</strong> – a list of 0 and 1’s, 0 meaning normal and 1 meaning outlier</p></li>
<li><p><strong>scores</strong> – a list of outlier scores, of same length as truth</p></li>
<li><p><strong>threshold_range</strong> – two values in a tuple or list. The thresholds will be picked within these.</p></li>
<li><p><strong>n_thresholds</strong> – the number of thresholds to produce</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a panda dataframe with rows of the form (threshold, tn, tp, fn, fp)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.make_tn_fp_fn_tp_tag_lists">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">make_tn_fp_fn_tp_tag_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">truth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#make_tn_fp_fn_tp_tag_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.make_tn_fp_fn_tp_tag_lists" title="Permalink to this definition"></a></dt>
<dd><p>Return a dictionary with the keys being tp, tn, fp and fn and the corresponding values are the indices of the scores/truth/tags
for the given threshold. If a list of tags of the sounds corresponding to each scores is given, the values of the dict will
be those tags rather than indices</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.pair_metrics_to_reference">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">pair_metrics_to_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pair_metrics={'x':</span> <span class="pre">'TPR',</span> <span class="pre">'y':</span> <span class="pre">'FPR'},</span> <span class="pre">outlier_proportion=0.2,</span> <span class="pre">label='chance</span> <span class="pre">line',</span> <span class="pre">base_statistics_dict={'ACC':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'BM':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'F1':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FDR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FNR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FOR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FPR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'MK':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'NMCC':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'NPV':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'PPV':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'TNR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'TPR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'TS':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;},</span> <span class="pre">synonyms={'ACC':</span> <span class="pre">['accuracy',</span> <span class="pre">'acc'],</span> <span class="pre">'BM':</span> <span class="pre">['informedness',</span> <span class="pre">'bookmaker_informedness',</span> <span class="pre">'bi',</span> <span class="pre">'BI',</span> <span class="pre">'bm'],</span> <span class="pre">'F1':</span> <span class="pre">['f1_score',</span> <span class="pre">'f1',</span> <span class="pre">'F1_score'],</span> <span class="pre">'FDR':</span> <span class="pre">['false_discovery_rate',</span> <span class="pre">'fdr'],</span> <span class="pre">'FNR':</span> <span class="pre">['miss_rate',</span> <span class="pre">'false_negative_rate',</span> <span class="pre">'fnr'],</span> <span class="pre">'FOR':</span> <span class="pre">['false_omission_rate',</span> <span class="pre">'for'],</span> <span class="pre">'FPR':</span> <span class="pre">['fall_out',</span> <span class="pre">'false_positive_rate',</span> <span class="pre">'fpr'],</span> <span class="pre">'MK':</span> <span class="pre">['markedness',</span> <span class="pre">'mk'],</span> <span class="pre">'NMCC':</span> <span class="pre">['normalized_Matthews_correlation_coefficient',</span> <span class="pre">'nmcc'],</span> <span class="pre">'NPV':</span> <span class="pre">['negative_predictive_value',</span> <span class="pre">'npv'],</span> <span class="pre">'PPV':</span> <span class="pre">['precision',</span> <span class="pre">'positive_predictive_value',</span> <span class="pre">'ppv'],</span> <span class="pre">'TNR':</span> <span class="pre">['specificity',</span> <span class="pre">'SPC',</span> <span class="pre">'true_negative_rate',</span> <span class="pre">'selectivity',</span> <span class="pre">'tnr'],</span> <span class="pre">'TPR':</span> <span class="pre">['recall',</span> <span class="pre">'sensitivity',</span> <span class="pre">'true_positive_rate',</span> <span class="pre">'hit_rate',</span> <span class="pre">'tpr'],</span> <span class="pre">'TS':</span> <span class="pre">['threat_score',</span> <span class="pre">'critical_success_index',</span> <span class="pre">'CSI',</span> <span class="pre">'csi',</span> <span class="pre">'ts']}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#pair_metrics_to_reference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.pair_metrics_to_reference" title="Permalink to this definition"></a></dt>
<dd><p>Utility to compute the reference/chance curve for a pair metrics type curve. Note that for certain combination
of metrics, the curve may be a point.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.parallel_sort">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">parallel_sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#parallel_sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.parallel_sort" title="Permalink to this definition"></a></dt>
<dd><p>Sort several lists in iterable_list in parallel, according to the the list of index sort_idx</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterable_list</strong> – list of list, all the lists have the same length</p></li>
<li><p><strong>sort_idx</strong> – int, the index of the list to sort by</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list sorted tuples</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parallel_sort</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]])</span>
<span class="go">[(1, 2, 3), (&#39;c&#39;, &#39;a&#39;, &#39;b&#39;)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parallel_sort</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span> <span class="n">sort_idx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[(1, 3, 2), (&#39;c&#39;, &#39;b&#39;, &#39;a&#39;), (7, 9, 10)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.pick_equally_spaced_points">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">pick_equally_spaced_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#pick_equally_spaced_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.pick_equally_spaced_points" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – a list of values</p></li>
<li><p><strong>n_points</strong> – the number of indices to choose</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of indices to choose from the list values in order for these picked values
to be as equally spaced as possible, starting with the first value and ending with the final value</p>
</dd>
</dl>
<p>DO NOT TRUST THIS FUNCTION! It is made only for increasing values and is only somewhat accurate if the values
are “fine” compared to the number of point n_points. It works well for what it is intended: finding equally spaced
points on a precision/recall curve if many points are available on the curve.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pick_equally_spaced_points</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">array([0, 1, 2])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pick_equally_spaced_points</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">array([  0, 150, 299])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pick_equally_spaced_points</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">array([0, 3, 5])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.plot_confusion_matrix">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">plot_confusion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saving_path=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize=(10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_bar=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cm=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#plot_confusion_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.plot_confusion_matrix" title="Permalink to this definition"></a></dt>
<dd><p>This function prints and plots the confusion matrix.
Normalization can be applied by setting <cite>normalize=True</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.plot_freqs_stats">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">plot_freqs_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">22050</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1025</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#plot_freqs_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.plot_freqs_stats" title="Permalink to this definition"></a></dt>
<dd><p>X is intended to be the list/array of spectra, the function plots the mean, max and min of each frequency.
If normalized, the min/max/mean entries are all divided by the the minimum value in the mean array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.plot_outlier_metric_curve">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">plot_outlier_metric_curve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">truth,</span> <span class="pre">scores,</span> <span class="pre">pair_metrics={'x':</span> <span class="pre">'TPR',</span> <span class="pre">'y':</span> <span class="pre">'PPV'},</span> <span class="pre">plot_curve=True,</span> <span class="pre">curve_legend_name=None,</span> <span class="pre">title=None,</span> <span class="pre">plot_table_points_on_curve=False,</span> <span class="pre">plot_chance_line=True,</span> <span class="pre">plot_table=False,</span> <span class="pre">n_points_for_table=10,</span> <span class="pre">axis_name_dict=None,</span> <span class="pre">saving_root=None,</span> <span class="pre">outlier_proportion=None,</span> <span class="pre">wiggle=False,</span> <span class="pre">table_dpi=300,</span> <span class="pre">base_statistics_dict={'ACC':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'BM':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'F1':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FDR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FNR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FOR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'FPR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'MK':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'NMCC':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'NPV':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'PPV':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'TNR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'TPR':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;,</span> <span class="pre">'TS':</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;},</span> <span class="pre">synonyms={'ACC':</span> <span class="pre">['accuracy',</span> <span class="pre">'acc'],</span> <span class="pre">'BM':</span> <span class="pre">['informedness',</span> <span class="pre">'bookmaker_informedness',</span> <span class="pre">'bi',</span> <span class="pre">'BI',</span> <span class="pre">'bm'],</span> <span class="pre">'F1':</span> <span class="pre">['f1_score',</span> <span class="pre">'f1',</span> <span class="pre">'F1_score'],</span> <span class="pre">'FDR':</span> <span class="pre">['false_discovery_rate',</span> <span class="pre">'fdr'],</span> <span class="pre">'FNR':</span> <span class="pre">['miss_rate',</span> <span class="pre">'false_negative_rate',</span> <span class="pre">'fnr'],</span> <span class="pre">'FOR':</span> <span class="pre">['false_omission_rate',</span> <span class="pre">'for'],</span> <span class="pre">'FPR':</span> <span class="pre">['fall_out',</span> <span class="pre">'false_positive_rate',</span> <span class="pre">'fpr'],</span> <span class="pre">'MK':</span> <span class="pre">['markedness',</span> <span class="pre">'mk'],</span> <span class="pre">'NMCC':</span> <span class="pre">['normalized_Matthews_correlation_coefficient',</span> <span class="pre">'nmcc'],</span> <span class="pre">'NPV':</span> <span class="pre">['negative_predictive_value',</span> <span class="pre">'npv'],</span> <span class="pre">'PPV':</span> <span class="pre">['precision',</span> <span class="pre">'positive_predictive_value',</span> <span class="pre">'ppv'],</span> <span class="pre">'TNR':</span> <span class="pre">['specificity',</span> <span class="pre">'SPC',</span> <span class="pre">'true_negative_rate',</span> <span class="pre">'selectivity',</span> <span class="pre">'tnr'],</span> <span class="pre">'TPR':</span> <span class="pre">['recall',</span> <span class="pre">'sensitivity',</span> <span class="pre">'true_positive_rate',</span> <span class="pre">'hit_rate',</span> <span class="pre">'tpr'],</span> <span class="pre">'TS':</span> <span class="pre">['threat_score',</span> <span class="pre">'critical_success_index',</span> <span class="pre">'CSI',</span> <span class="pre">'csi',</span> <span class="pre">'ts']},</span> <span class="pre">return_rauc=True,</span> <span class="pre">add_point_left=None,</span> <span class="pre">add_point_right=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#plot_outlier_metric_curve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.plot_outlier_metric_curve" title="Permalink to this definition"></a></dt>
<dd><p>Plots one outlier scores metric against another one. The metrics name can be any names in the base_statistics_dict
or the synonyms dict. The chance line/curve is automatically computed and displayed along with a table
of equally spaced point on the curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>truth</strong> – an array of 0/1, the ground truth: 0 for normal, 1 for outlier</p></li>
<li><p><strong>scores</strong> – the scores as predicted by our model. Higher scores is expected to correspond to outliers.</p></li>
<li><p><strong>pair_metrics</strong> – A dictionary with two keys, one for each of the metrics to represent. (x/y on the x/y axis)</p></li>
<li><p><strong>plot_curve</strong> – boolean, whether to plot the curve</p></li>
<li><p><strong>curve_legend_name</strong> – the name of the curve as displayed in the legend</p></li>
<li><p><strong>title</strong> – the title of the curve, by default the name of the metrics</p></li>
<li><p><strong>plot_table_points_on_curve</strong> – whether to display dots on the rauc curve corresponding to points in the table</p></li>
<li><p><strong>plot_chance_line</strong> – boolean, whether or not the display the chance line</p></li>
<li><p><strong>plot_table</strong> – boolean, whether or not to plot the table, useful to share nice pics with customers</p></li>
<li><p><strong>n_points_for_table</strong> – int, the number of equally spaced points for the table</p></li>
<li><p><strong>axis_name_dict</strong> – a dictionary specifying the name to display on the x/y axis. If set to None, the names in
pair_metrics are used</p></li>
<li><p><strong>saving_root</strong> – if set, path to the folder where the pictures will be saved.</p></li>
<li><p><strong>outlier_proportion</strong> – None or a float between 0 and 1. If a float is chosen either the normal scores or the
anomaly scores will be copied over to achieve the requested proportion of outlier</p></li>
<li><p><strong>wiggle</strong> – boolean, whether the scores will be slightly modified in order to avoid duplicate. Can
help in drawing the curve when too many scores are the same. Most often
the problem wiggle_scores solves arise from using sklearn OneClassSVM for the scores
computation</p></li>
<li><p><strong>table_dpi</strong> – int, the higher the finer the pic</p></li>
<li><p><strong>base_statistics_dict</strong> – the dictionary of possible metrics with the functions computing the metrics from
the tn_fp_fn_tp counts. See above.</p></li>
<li><p><strong>synonyms</strong> – a dictionary containing the synonymous, allowing the user to refer to the metrics in different
terms</p></li>
<li><p><strong>return_rauc</strong> – boolean, whether or not to return the area under the curve</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.rebalance_scores">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">rebalance_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_truth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_proportion</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#rebalance_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.rebalance_scores" title="Permalink to this definition"></a></dt>
<dd><p>Re-balances the ratio of normal/outlier scores by copying the normal/outliers scores when needed.
This is useful to compute real life precision/recall and other such metrics when the actual proportion
of outlier/normal is known but not achieved in the test set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.rebalancing_normal_outlier_ratio">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">rebalancing_normal_outlier_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">normal_scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_outliers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#rebalancing_normal_outlier_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.rebalancing_normal_outlier_ratio" title="Permalink to this definition"></a></dt>
<dd><p>Rebalance artificially the ratio outlier/(normal + outlier) to the specified percent_outliers.
Does this by copying data points, use with caution!
:param normal_scores:
:param outlier_scores:
:param percent_outliers:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.render_mpl_table">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">render_mpl_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.625</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#40466e'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#f1f1f2',</span> <span class="pre">'w']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_to_round</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_to_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_other'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#render_mpl_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.render_mpl_table" title="Permalink to this definition"></a></dt>
<dd><p>Take a pandas dataframe and represents it with a picture. This allows to save a .png version of the dataframe.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.smooth_scores">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">smooth_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size=2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_step=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_func=&lt;function</span> <span class="pre">mean&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#smooth_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.smooth_scores" title="Permalink to this definition"></a></dt>
<dd><p>Smooth an iterable of score by applying smooth_funct to each window of size window_size.
If scores is smaller than window_size, an empty list is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scores</strong> – list, the scores to smooth</p></li>
<li><p><strong>window_size</strong> – int, the size of the window</p></li>
<li><p><strong>smooth_funct</strong> – function, the function applied to the windows</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new list of scores</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">smooth_scores</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">smooth_scores</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[1.5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">smooth_scores</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">window_step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">smooth_func</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">))</span>
<span class="go">[2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.split_on_consecutive">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">split_on_consecutive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_to_split</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr_for_consec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#split_on_consecutive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.split_on_consecutive" title="Permalink to this definition"></a></dt>
<dd><p>Split arr_to_split based on the entries of arr_for_consec. Each segment of consecutive
equal entries in arr_for_consec will induce a split</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_on_consecutive</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[array([1, 1]), array([2])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_on_consecutive</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[array([&#39;a&#39;, &#39;b&#39;], dtype=&#39;&lt;U1&#39;), array([&#39;c&#39;], dtype=&#39;&lt;U1&#39;), array([&#39;d&#39;, &#39;e&#39;, &#39;f&#39;], dtype=&#39;&lt;U1&#39;), array([&#39;g&#39;], dtype=&#39;&lt;U1&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.vlines">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">vlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'o'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestyles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'solid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#vlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.vlines" title="Permalink to this definition"></a></dt>
<dd><p>Plot vlines in a more intuitive way than the default matplotlib version</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.wiggle_scores">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">wiggle_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truth</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#wiggle_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.wiggle_scores" title="Permalink to this definition"></a></dt>
<dd><p>Sort scores from low to high while keeping truth aligned with it. The original values
in scores which are present multiple times are spread out equally between their value and
the next larger score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scores</strong> – a list of scores</p></li>
<li><p><strong>truth</strong> – a list of 0/1, for normal/abnormal</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>scores and truth list sorted from low to high score and where the scores have been
wiggled</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wiggle_scores</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">(array([1. , 1.5, 2. ]), array([0, 0, 0]))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wiggle_scores</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">(array([1. , 1.5, 2. , 4. ]), array([0, 0, 0, 1]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oplot.plot_stats.wiggle_values_keep_order">
<span class="sig-prename descclassname"><span class="pre">oplot.plot_stats.</span></span><span class="sig-name descname"><span class="pre">wiggle_values_keep_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/oplot/plot_stats.html#wiggle_values_keep_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#oplot.plot_stats.wiggle_values_keep_order" title="Permalink to this definition"></a></dt>
<dd><p>Wiggles the values in a list of scores so has to remove any duplicate values while keeping the same order.
This is intended to use with plot_outlier_metric_curve in order to smooth the curve in situations where scores
are repeating a lot</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wiggle_values_keep_order</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
<span class="go">array([1. , 1.5, 2. , 3. , 3.5, 4. , 5. , 5.5])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> – a list of floats in general</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new list of float, where the values have been moved around a little, without altering their order</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plot_data_set.html" class="btn btn-neutral float-left" title="oplot.plot_data_set" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ui_scores_mapping.html" class="btn btn-neutral float-right" title="oplot.ui_scores_mapping" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>